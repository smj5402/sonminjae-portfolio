# Project_01_Digital_Clock

## 1. 프로젝트 개요

이 프로젝트는 12시간 형식의 디지털 시계를 모듈화를 중점적으로 구현하였습니다. 시스템 클럭을 분주하여 1초 단위의 시간을 생성하고, 이를 기반으로 시, 분, 초를 카운트하며 AM/PM을 전환하는 기능을 포함합니다.

---

## 2. 설계 목표

* 클럭 분주기를 통한 정확한 시간 생성 (1Hz)
* BCD 카운터를 활용한 시, 분, 초 계산
* AM/PM 자동 전환 로직 구현 (12시간 형식)

---

## 3. 설계 구현

### 3.1. 모듈 구성

디지털 시계는 다음과 같은 주요 모듈로 구성됩니다.

* **`pulse_gen_1hz`:** 펄스 발생기(pulse generator)를 통해 시스템 클럭을 1Hz 주기로 분주합니다. 
* **`BCD_counter_60`:** 초 및 분을 카운트하는 모듈로, 00부터 59까지 BCD 형식으로 카운트하고 59에서 00으로 roll over하며 캐리 신호를 발생시킵니다.
* **`BCD_counter_12`:** 시간을 카운트하는 모듈로, 01부터 12까지 BCD 형식으로 카운트하고 12에서 1로 넘어갈 때 캐리 신호를 발생시킵니다.
* **`am_pm_logic`:** AM/PM 상태를 관리하며, 12시 정각에 AM/PM를 토글합니다.

### 3.2. AM/PM 로직 상세 및 핵심 학습 경험

`am_pm_logic` 모듈은 12시간 형식 디지털 시계의 핵심적인 부분으로, 12시 정각에 AM/PM 상태를 정확히 전환하는 로직을 담당합니다. 초기 설계 과정에서 이 부분의 타이밍에 대한 고민이 있었습니다.

저는 처음에 `am_pm` 상태 전환 조건이 `hour`가 11시일 때 발생해야 다음 클럭 사이클(즉, 12시가 되는 순간)에 AM/PM 상태가 의도한 대로 업데이트될 것이라고 예상했습니다. 이는 `posedge clk` 기반의 동기 시스템에서 레지스터 업데이트가 '예약'되고 다음 사이클에 반영된다는 일반적인 이해 때문이었습니다.

그러나 실제 구현 및 시뮬레이션 결과, `am_pm_logic`의 클럭으로 사용되는 `hr_carry` 신호가 **시간이 11시 59분 59초에서 12시 00분 00초로 넘어가는 바로 그 `posedge` 순간**에 발생하며, 이 클럭 에지에서 `am_pm_logic`은 이미 갱신된 `hour` 값(12시)과 `min_carry` 값을 받아 **바로 그 `posedge` 순간에 AM/PM 상태를 토글**하여 출력한다는 것을 확인하였습니다.

이 과정에서 저는 Verilog 시뮬레이션의 **마이크로-타임스텝(micro-timestep)** 및 **델타 사이클(delta cycle)** 개념의 중요성을 알게 되었습니다.

* **마이크로-타임스텝 / 델타 사이클:** 시뮬레이터는 특정 시간 단위(이번 프로젝트에서는 1초) 내에서 발생하는 여러 이벤트를 **극도로 미세한 논리적 시간 단위(델타 사이클)**로 쪼개어 처리합니다. 이는 하드웨어의 병렬 동작과 신호 전파 지연을 정확히 재현합니다.
* **연쇄적인 동기 업데이트:** `one_hz_pulse`의 `posedge`를 시작으로, 초 카운터 -> 분 카운터 -> 시 카운터 순으로 레지스터들이 연쇄적으로 업데이트되고 캐리 신호가 전파됩니다. `hr_carry`의 `posedge`가 발생하고 `am_pm_logic`이 트리거되는 이 모든 과정이 **`12:00:00`이라는 동일한 논리적 타임스탬프 내에서 발생합니다.**
* **`posedge clk`의 의미 재해석:** 레지스터의 업데이트는 `posedge clk`이라는 순간에 '예약'되고 '완료'됩니다. 즉, 해당 클럭 에지에서 조건이 충족되면, 레지스터의 값은 **바로 그 클럭 에지에서 새로운 값으로 변경되어 다음 로직으로 전파될 준비를 마칩니다.**

이 경험을 통해 동기 시스템에서 여러 모듈 간의 신호 전파 및 레지스터 업데이트 타이밍을 더욱 더 정밀하게 분석하고 설계할 수 있는 역량을 키울 수 있었습니다.

---

## 4. 시뮬레이션 및 검증 결과



